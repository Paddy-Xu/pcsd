\documentclass[12pt]{article}
\usepackage[utf8]{inputenc}
\usepackage[english]{babel}
\usepackage{listings}
\usepackage{tikz}
\usepackage{amsmath,amssymb}
\usepackage{subcaption}

\newcommand{\HRule}{\rule{\linewidth}{0.5mm}}

% Listings
\newlength{\eightytt}
\newcommand{\testthewidth}{%
  \fontsize{\dimen0}{0}\selectfont
  \sbox0{x\global\dimen1=0.6em}%
  \ifdim \dimexpr80\dimen1+23pt>\textwidth
    \advance\dimen0 by -.1pt
    \expandafter\testthewidth
  \else
    \global\eightytt\dimen0
  \fi
}
\AtBeginDocument{%
  \dimen0=\csname f@size\endcsname pt
  \begingroup
  \ttfamily
  \testthewidth
  \endgroup
  \lstset{
    % columns=fullflexible,
    basicstyle=\fontsize{\eightytt}{1.2\eightytt}\ttfamily
               \color[HTML]{F8F8F2},
    breaklines=true
  }
}
\lstset{
  breaklines=true,
  backgroundcolor=\color[HTML]{282828},
  framexleftmargin=2pt,
  inputencoding=utf8,
  captionpos=b,
  numbers=none,
  numberstyle = \fontsize{\eightytt}{1.2\eightytt}
                \color[HTML]{282828},
  keywordstyle =    \color[HTML]{F92672}\ttfamily,
  commentstyle =    \color[HTML]{75715E}\ttfamily,
  stringstyle =     \color[HTML]{E6DB74}\ttfamily,
  % identifierstyle = \color[HTML]{F8F8F2}\ttfamily,
  showstringspaces=false
}
\lstdefinestyle{compact} {aboveskip={0.1\baselineskip}}
\lstdefinestyle{notcompact} {aboveskip={1.2\baselineskip}}
\lstdefinestyle{numbered} {numbers=left,xleftmargin=0pt}
\lstdefinestyle{appendix} {backgroundcolor=\color{white}}
%%%% End listings

\begin{document}

\begin{center}
\textsc{\LARGE Principles of Computer System Design}\\[0.3cm] % Context
\HRule \\[0.4cm]
{ \huge \bfseries Assignment 4}
\HRule \\[0.4cm]
\large
Johannes de Fine Licht
\\Philip Graae
\\Ola RÃ¸nning
\\\today
\end{center}

\section*{High-Level Design Decisions and Modularity}

\subsection*{Question 1}
The partitioning of branches across nodes must be done in the configuring file, hence this must be load balancing across the available partitions must be done by the operator and be known initiation.

In the case where a partition becomes unreachable, all branches allocated on that partition becomes unreachable as well. If a account manager proxy fails all clients will have to restart their session in order to communicate with the account manager, however, there clients connected to other account manager proxies will be unaffected.
\section*{Atomicity and Fault-Tolerance}

\subsection*{Question 2}
To ensure serializability of each partition we have used a read-write lock on each branch and as well as a read write lock in each account. When a account need to be updated a read lock is held on the branch and a write lock is obtained on the specific account this allows. The lock on the branch is always obtained before the lock on the specific account and is always released  before the branch lock. Hence the locks are always obtained and released in the same order and hence equvilates 2 phase locking.
\section*{Experiments}

\subsection*{Question 3}

\end{document}
